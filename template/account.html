<!DOCTYPE html>
<html>
  <head>
    <title>Account</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="./css/materialize.css"  media="screen, projection"/>
    <link type="text/css" rel="stylesheet" href="./css/custom.css"  media="screen, projection"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col s6 offset-s3 shadow">
          <form class="account" method="POST" action="home.html">
            <div class="row">
              <div class="col s10 offset-s1 caption">
                <center><label class="header">More-Recipes</label></center><br>
                <label class="action"></label><br>
                <label class='caption action2 notice hide' >
                  <span class="notice">
                    Please, ensure you provide a functional email address!<br>
                    A confirmation link will be sent to the email address you provide
                  </span>     
              </label>
              <label class="action3 caption hide">
                  <span class="notice">
                    Please, enter the email address you registered with<br>
                    We will send you a passowrd reset link 
                  </span>
              </label>
              </div>
            </div>
            <div class="row">
              <div class="input-field col s10 offset-s1">
                <input id="email" type="text" class="validate" autocomplete="off">
                <label for="email">E-mail</label>
              </div>
            </div>
            <div class="row action3 hide">
                <div class="input-field col s10  offset-s1">
                  <input id="password" type="password" class="validate">
                  <label for="password">Password</label>
                </div>
            </div>
            <div class="row">     
              <div class="col s10 offset-s1 action3">
                <a href="?action=recovery" class="recovery"></a>
              </div>
            </div>
            <div class="row">
              <div class="col s10 offset-s1">
                <button class="action waves-effect waves-light btn col s12" 
                 type="submit" name="action">Signin
                </button>
              </div>
            </div>
            <div class="row">
              <div class="col s10 offset-s1 toggle_account">
                <a href="" class="account"></a>
              </div>
            </div>
          </form>
          <div class="row">
            <div class="col s10 offset-s1" style="direction: rtl;">
              <a href="index.html" class="back">Go back</a>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col s6 offset-s3" style="font-size: 12px; 
          padding: 20px 5px 5px 5px;color:gray"><center>
              Â© Andela, <script>document.write(new Date().getFullYear())</script>. All rights reserved.              
          </center></div>
        </div>
      </div>
    </div>
    <script src="./js/jquery-3.2.1.slim.js"></script> 
    <script src="./js/materialize.js"></script>  
    <script src="./js/script.js"></script>
    <script>
    $(function(){
      const thisTag = $('a.account');
      let actionStr = '';
      const action = {
        isSignin: [1, 'Signin'], 
        isSignup: [2, 'Signup'], 
        isResetPassword: [3, 'Reset password']
      };

      let query = location.search.substr(1).split('=');

      switch(query[1])
      {
        case 'signin':
                    actionStr = action.isSignup[1];
                    $('div.action'+action.isResetPassword[0]).removeClass('hide');
                    $('a.recovery').html('Forgot password?')
                    thisTag.html('<label>Don\'t have account?</label> '+actionStr+' here')
                    thisTag.attr({"href":"account.html?action="+actionStr.toLowerCase()})
                    break;
        case 'signup':
                    actionStr = action.isSignin[1];
                    $('label.action'+action.isSignup[0]).removeClass('hide');
                    $('div.action'+action.isResetPassword[0]).removeClass('hide');
                    thisTag.html('<label>Already have account?</label> '+actionStr+' here')
                    thisTag.attr({"href":"account.html?action="+actionStr.toLowerCase()})
                    break;
        case 'recovery':
                    $('label.action').html('Recover password')
                    $('button.action').html('Submit')
                    thisTag.attr({"href":"account.html?action=signup"})
                    $('label.action'+action.isResetPassword[0]).removeClass('hide');
                    thisTag.html('<label>Don\'t have account?</label> Signup here')
                    return;
        default:   // Set  signin as default for invalid s invalid
                    actionStr = query[1] = 'Signin'
                    $('a.recovery').html('Forgot password?')
                    $('div.action'+action.isResetPassword[0]).removeClass('hide');
                    thisTag.html('<label>Don\'t have account?</label> '+actionStr+' here')
                    thisTag.attr({"href":"account.html?action="+actionStr.toLowerCase()})
      }
      $('label.action').html(query[1]).css({'text-transform': 'Capitalize'});
      $('button.action').html(query[1]).toUpperCase()
    })
    </script>
  </body>
</html>
